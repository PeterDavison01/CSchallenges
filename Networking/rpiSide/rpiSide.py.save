from flask import Flask, render_template
import io
import time

app = Flask(__name__)

@app.route("/")
def main():
                                <!-- Create a grey 3D box on the marker -->
                                        <a-plane
                                                rotation="-90 0 0"
                                                position="1 0 0"
                                                color="grey"
                                                text="anchor:left;baseline:top;value: TEST;color:white;zOffset:1">
                                        </a-plane>
                                </a-marker>
	outputhtml = """

		<html>
			<head>
			<!-- Create a viewport to allow the user to see the content, make it the width of their device and unscalable
			so the display doesn't distort -->
		        	<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
			</head>
			<!-- Import A-frame V1.0.4 -->
			<script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
			<!-- Import modified version of AR.js -->
			<script src="https://raw.githack.com/jeromeetienne/AR.js/master/aframe/build/aframe-ar.min.js"></script>
			<!--<script type=text/javascript src="/Javascript/OIP.js></script>-->

			<body style='margin : 0px; overflow: hidden;'>
			<!-- Create AR scene for 3D objects -->
		       	<a-scene stats embedded vr-mode-ui="enabled: false" arjs="sourceType: webcam; debugUIEnabled: true; detectionMode: mono_and_matrix; matrixCodeType: 3x3;">
				<!-- Create method to recognises a barcode marker, symbolsing a 6 -->
				<a-marker type='barcode' value='1'>
				<!-- Create a grey 3D box on the marker -->
			        	<a-plane
						rotation="-90 0 0"
						position="1 0 0"
						color="grey"
						text="anchor:left;baseline:top;value: TEST;color:white;zOffset:1">
					</a-plane>
		        	</a-marker>

			    	<!-- Create method to recognise a barcode marker, symbolising a 7 -->
			        <a-marker type='barcode' value='2'>
					<!-- Create a red 3D box on the marker -->
				    	<a-box position='0 0.5 0' color="red"></a-box>
			        </a-marker>

				<a-marker type='barcode' value='3'>
					<a-box position=' 0 0.5 0' color="blue"></a-box>
				</a-marker>

	        	    	<!--Create camera entity in 3D space to display AR scene -->
			        <a-entity camera></a-entity>

		        </a-scene>
		    </body>
		</html>

	"""

	return(outputhtml)

if __name__ == '__main__':
	app.run(ssl_context='adhoc',debug=True,port=8082,host='192.168.16.111')
